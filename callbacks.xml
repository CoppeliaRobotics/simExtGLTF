<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<?xml-stylesheet type="text/xsl" href="callbacks.xsl"?>

<plugin name="glTF" short-name="GLTF" author="federico.ferri.it@gmail.com">
    <description>Plugin for glTF format support</description>
    <command name="clear">
        <description>Clear internal cache. Call this before export.</description>
        <params>
        </params>
        <return>
        </return>
    </command>
    <command name="create">
        <description>Create an empty glTF model. The object must be destroyed later with <cmd-ref name="destroy" />.</description>
        <params>
        </params>
        <return>
            <param name="handle" type="string">
                <description>a handle to the model</description>
            </param>
        </return>
    </command>
    <command name="destroy">
        <description>Destroy an existing glTF model.</description>
        <params>
            <param name="handle" type="string">
                <description>handle to the model</description>
            </param>
        </params>
        <return>
        </return>
    </command>
    <command name="loadASCII">
        <description>Load an ASCII glTF model. The object must be destroyed later with <cmd-ref name="destroy" />.</description>
        <params>
            <param name="filepath" type="string" />
        </params>
        <return>
            <param name="handle" type="string">
                <description>a handle to the model, or empty if error</description>
            </param>
            <param name="warnings" type="string">
                <description>warning message(s)</description>
            </param>
            <param name="errors" type="string">
                <description>error message(s)</description>
            </param>
        </return>
    </command>
    <command name="loadBinary">
        <description>Load a binary (.glb) glTF model. The object must be destroyed later with <cmd-ref name="destroy" />.</description>
        <params>
            <param name="filepath" type="string" />
        </params>
        <return>
            <param name="handle" type="string">
                <description>a handle to the model, or empty if error</description>
            </param>
            <param name="warnings" type="string">
                <description>warning message(s)</description>
            </param>
            <param name="errors" type="string">
                <description>error message(s)</description>
            </param>
        </return>
    </command>
    <command name="saveASCII">
        <description>Save a glTF model to an ASCII file.</description>
        <params>
            <param name="handle" type="string">
                <description>handle to the model</description>
            </param>
            <param name="filepath" type="string" />
        </params>
        <return>
            <param name="success" type="bool" />
        </return>
    </command>
    <command name="saveBinary">
        <description>Save a glTF model to a binary file.</description>
        <params>
            <param name="handle" type="string">
                <description>handle to the model</description>
            </param>
            <param name="filepath" type="string" />
        </params>
        <return>
            <param name="success" type="bool" />
        </return>
    </command>
    <command name="serialize">
        <description>Serialize glTF model to JSON string.</description>
        <params>
            <param name="handle" type="string">
                <description>handle to the model</description>
            </param>
        </params>
        <return>
            <param name="json" type="string">
                <description>the JSON document</description>
            </param>
        </return>
    </command>
    <command name="exportShape">
        <description>Export shape to glTF model.</description>
        <params>
            <param name="handle" type="string">
                <description>handle to the model</description>
            </param>
            <param name="shapeHandle" type="int">
                <description>handle of the shape</description>
            </param>
            <param name="parentHandle" type="int">
                <description>handle of the parent object. if specified the matrix of the node will be relative to this. use this in conjunction with parentNodeIndex parameter.</description>
            </param>
            <param name="parentNodeIndex" type="int" default="0">
                <description>index of parent node</description>
            </param>
        </params>
        <return>
            <param name="nodeIndex" type="int">
                <description>index of the new node (may contain sub-nodes)</description>
            </param>
        </return>
    </command>
    <command name="exportObject">
        <description>Export object to glTF model.</description>
        <params>
            <param name="handle" type="string">
                <description>handle to the model</description>
            </param>
            <param name="objectHandle" type="int">
                <description>handle of the object</description>
            </param>
        </params>
            <param name="nodeIndex" type="int">
                <description>index of the new node (may contain sub-nodes)</description>
            </param>
        <return>
            <param name="nodeIndex" type="int">
                <description>index of the new node (may contain sub-nodes)</description>
            </param>
        </return>
    </command>
    <command name="exportAllObjects">
        <description>Export all objects to glTF model.</description>
        <params>
            <param name="handle" type="string">
                <description>handle to the model</description>
            </param>
        </params>
        <return>
        </return>
    </command>
    <command name="exportSelectedObjects">
        <description>Export selected objects to glTF model.</description>
        <params>
            <param name="handle" type="string">
                <description>handle to the model</description>
            </param>
        </params>
        <return>
        </return>
    </command>
    <command name="exportObjects">
        <description>Export objects to glTF model.</description>
        <params>
            <param name="handle" type="string">
                <description>handle to the model</description>
            </param>
            <param name="objectHandles" type="table" item-type="int">
                <description>handles of the objects</description>
            </param>
        </params>
        <return>
        </return>
    </command>
    <command name="exportAnimation">
        <description>Export animation data to glTF model.</description>
        <params>
            <param name="handle" type="string">
                <description>handle to the model</description>
            </param>
        </params>
        <return>
        </return>
    </command>
    <command name="animationFrameCount">
        <description>Return count of animation frames.</description>
        <params>
        </params>
        <return>
            <param name="count" type="int">
                <description>count of frames</description>
            </param>
        </return>
    </command>
</plugin>
